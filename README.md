# Spirit Cage 游戏网站

## 项目概述

Spirit Cage 是一个在线游戏网站，提供多种免费的浏览器游戏。网站采用纯HTML5和CSS技术开发，无需复杂的框架，适合初学者理解和修改。

## 网站功能

1. **首页（index.html）**：显示精选游戏和最新游戏，提供网站概览
2. **新游戏页面（new-games.html）**：展示最新添加的游戏
3. **所有游戏页面（all-games.html）**：显示所有游戏，支持搜索和排序
4. **游戏详情页面（game.html）**：通过URL参数加载特定游戏，提供游戏说明和嵌入式游戏体验
5. **标签系统**：支持通过标签浏览游戏

## 页面结构说明

### 首页（index.html）
- 展示8个随机精选游戏
- 展示8个最新游戏
- 点击游戏卡片进入游戏详情页

### 新游戏页面（new-games.html）
- 展示最新添加的20个游戏
- 随机排序，每次访问显示不同游戏

### 所有游戏页面（all-games.html）
- 显示网站所有游戏
- 支持通过标题、描述或标签搜索
- 支持按名称排序（升序/降序）

### 游戏详情页面（game.html）
- 通过URL参数`?title=游戏名称`加载特定游戏
- 显示游戏标题、描述、标签等信息
- 嵌入游戏框架，支持全屏模式
- 提供"在新窗口打开"选项

## 技术实现

### 数据加载流程
1. 网站通过`games-loader.js`加载游戏数据
2. 优先从本地缓存加载数据（LocalStorage）
3. 如果缓存不可用或已过期，从本地`games_data.json`文件加载数据
4. 如果本地加载失败，使用备用数据
5. 支持数据同步功能，定期（7天）从远程API更新数据

### 性能优化技术
1. **数据加载优化**：
   - 本地存储缓存机制，减少反复加载大型数据文件
   - 数据压缩，移除不必要的字段，限制描述长度
   - 后台静默更新数据，不阻塞用户界面

2. **渲染优化**：
   - 使用文档片段（DocumentFragment）一次性添加多个DOM元素
   - 批量处理渲染（批次加载，每批30个游戏）
   - 分页加载大量游戏，减少初始加载时间

3. **视觉优化**：
   - 使用骨架屏（Skeleton）提供加载过程中的视觉反馈
   - 游戏卡片交错淡入动画，提升用户体验
   - 延迟无关紧要的内容加载

4. **图片优化**：
   - 图片懒加载，只在需要显示时加载图片
   - 支持原生浏览器懒加载和Intersection Observer API回退方案
   - 预加载首页关键图片，提高首屏体验

5. **资源管理**：
   - 防抖动机制减少高频事件（如搜索）触发的渲染
   - 无限滚动自动加载更多内容
   - 页面加载状态和进度显示

### 事件通知系统
- `gamesDataLoaded`事件：当游戏数据加载完成时触发
- `gamesDataUpdated`事件：当游戏数据被更新时触发

### 关键文件说明

#### HTML页面
- `index.html`：网站首页
- `game.html`：游戏详情页
- `all-games.html`：所有游戏列表页
- `new-games.html`：新游戏页面
- `tags.html`：标签浏览页面

#### JavaScript文件
- `games-loader.js`：负责加载和同步游戏数据
- `js/main.js`：主要功能实现，包含游戏渲染、搜索等功能

#### CSS文件
- `css/styles.css`：网站主要样式

#### 数据文件
- `games_data.json`：游戏数据本地存储

## 响应式设计

网站采用响应式设计原则：
- 适配不同屏幕尺寸（桌面、平板、手机）
- 使用CSS Flexbox和Grid布局
- 在移动设备上自动隐藏侧边栏

## 优化建议

1. **性能优化**：
   - 实现图片懒加载
   - 为CSS和JavaScript添加版本控制和缓存策略

2. **功能扩展**：
   - 添加用户评分和评论系统
   - 实现游戏收藏功能
   - 集成社交媒体分享功能

3. **SEO优化**：
   - 为每个游戏生成独立的静态页面
   - 增强元数据和结构化数据

## 使用说明

1. 将项目文件上传到任何Web服务器
2. 确保`games_data.json`具有读取权限
3. 访问`index.html`开始使用
4. 定期更新`games_data.json`以添加新游戏

## 维护注意事项

- 游戏数据格式要求：标题(title)、嵌入地址(embed)、图片(image)、标签(tags)、描述(description)
- 标签应使用英文逗号分隔
- 图片建议使用16:9比例 